Connect-MgGraph -Scopes "Application.Read.All"

Get-MgServicePrincipal -All | 
Select-Object DisplayName, AppId, SignInAudience |
Export-Csv "SSOApps.csv" -NoTypeInformation

Get-MgServicePrincipal -All |
Where-Object {$_.PreferredSingleSignOnMode -ne $null} |
Select-Object DisplayName, PreferredSingleSignOnMode |
Export-Csv "ConfiguredSSOApps.csv" -NoTypeInformation