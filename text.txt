# Fetch the current Application Gateway configuration
$appGateway = Get-AzApplicationGateway -ResourceGroupName <ResourceGroupName> -Name <ApplicationGatewayName>

# Configure the SSL Policy to enforce TLS 1.2
$sslPolicy = New-AzApplicationGatewaySslPolicy -PolicyType Custom -MinProtocolVersion TLSv1_2 -CipherSuite "TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256", "TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384"

# Apply the SSL Policy to the Application Gateway
Set-AzApplicationGateway -ApplicationGateway $appGateway -SslPolicy $sslPolicy